<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elonet | Python 3 | Formation 2</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#python-3-formation-2">Python 3 Formation 2</a></li>
<li><a href="#pourquoi-lobjet-">1 - Pourquoi l’objet ?</a>
<ul>
<li><a href="#classe">Classe</a></li>
<li><a href="#instance">Instance</a></li>
</ul>
</li>
<li><a href="#attributs">2 - Attributs</a>
<ul>
<li><a href="#déclaration">Déclaration</a></li>
<li><a href="#déclaration-avec-paramètres">Déclaration avec paramètres</a></li>
<li><a href="#objets-composés">Objets composés</a></li>
<li><a href="#attributs-statiques">Attributs statiques</a></li>
<li><a href="#attributs-privés">Attributs privés</a></li>
</ul>
</li>
<li><a href="#méthodes">3 - Méthodes</a>
<ul>
<li><a href="#constructeur">Constructeur</a></li>
<li><a href="#méthodes-dinstance">Méthodes d’instance</a></li>
<li><a href="#méthodes-statiques">Méthodes statiques</a></li>
<li><a href="#méthodes-de-classe">Méthodes de classe</a></li>
<li><a href="#property-getter">Property (Getter)</a></li>
<li><a href="#setter">Setter</a></li>
</ul>
</li>
<li><a href="#héritage">4 - Héritage</a>
<ul>
<li><a href="#déclaration-2">Déclaration</a></li>
<li><a href="#constructeur-1">Constructeur</a></li>
<li><a href="#héritage-multiple">Héritage multiple</a></li>
<li><a href="#vérifier-le-type-dun-objet">Vérifier le type d’un objet</a></li>
</ul>
</li>
<li><a href="#polymorphisme">5 - Polymorphisme</a>
<ul>
<li><a href="#exemple-4">Exemple</a></li>
<li><a href="#exemple-avancé">Exemple avancé</a></li>
<li><a href="#surcharges-utiles">Surcharges utiles</a></li>
</ul>
</li>
<li><a href="#exercice">6 - Exercice</a>
<ul>
<li><a href="#exercice-1">Exercice 1</a></li>
<li><a href="#exercice-2">Exercice 2</a></li>
<li><a href="#exercice-3">Exercice 3</a></li>
<li><a href="#exercice-4">Exercice 4</a></li>
<li><a href="#exercice-5">Exercice 5</a></li>
<li><a href="#exercice-6">Exercice 6</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="python-3-formation-2">Python 3 Formation 2</h1>
<p><img src="https://elonet.fr/img/logo.png" alt="Elonet"></p>
<h1 id="pourquoi-lobjet-">1 - Pourquoi l’objet ?</h1>
<p>Il est tout à fait possible de réaliser un programme sans l’utilisation des objets, mais c’est se priver d’une des forces du langage et bien souvent on perd plus de temps à programmer un programme sans objets qu’avec.</p>
<p>Depuis le début de la formation, vous avez manipulé pas mal d’objets et ils nous ont facilité la vie.<br>
Par exemple avec <code>requests</code> chaque requête nous retourne en résultat un <strong>objet</strong> <code>Response</code> qui contient le code HTTP et le contenu s’il existe, ou bien <code>terminaltables</code> qui nous a permis d’afficher de jolis tableaux sans nous soucier de la mécanique interne.<br>
Les avantages de l’objet sont :</p>
<ul>
<li>Complexifier les programmes tout en les rendant plus lisibles à l’aide de l’abstraction</li>
<li>Un meilleur moyen de travailler en équipe</li>
<li>Cloisonner les données à l’aide de l’encapsulation</li>
<li>Réutiliser des morceaux entiers de programme en quelques lignes<br>
Un objet est un type de variable</li>
</ul>
<h2 id="classe">Classe</h2>
<p>Les classes sont la base de la programmation objet, elles définissent les <strong>attributs</strong> et les <strong>méthodes</strong> que contiendront nos objets.<br>
On peut comparer une classe à un plan de construction d’une voiture, une voiture possède :</p>
<ul>
<li>Un numéro de série</li>
<li>Un poids à vide</li>
<li>Une accélération</li>
<li>Etc …<br>
Et avec une voiture, il est possible :</li>
<li>D’accélérer</li>
<li>Freiner</li>
<li>Etc</li>
</ul>
<h3 id="création-dune-classe">Création d’une classe</h3>
<p>La création d’une classe se fait à l’aide du mot clé <code>class</code><br>
Exemple d’une classe définissant un personnage :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
</code></pre>
<p>Et voilà nous avons créer notre première classe, elle ne fait rien, mais existe belle est bien<br>
Le code peut aussi être écrit comme ça :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
</code></pre>
<p>Toutes les classes héritent de la classe <code>object</code> qui est l’objet de base Python (voir le chapitre sur l’héritage).<br>
Afin de rendre le code plus lisible, Python nous permet d’omettre <code>object</code> lors de la déclaration d’une classe.</p>
<h2 id="instance">Instance</h2>
<p>L’instance est l’objet créer à partir de la classe, et chaque instance est différente des autres<br>
On crée une instance en utilisant le nom de la classe suivi de parenthèses</p>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>dustin<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x031155D0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>will<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x031155F0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>On a créé 2 instances de la classe <code>Personnage</code>, et chaque objet est différent (adresse mémoire différente)</p>
<h1 id="attributs">2 - Attributs</h1>
<p>Les attributs sont les variables encapsulées dans l’objet, reprenons l’exemple de notre personnage, nous souhaitons que notre personnage possède un nom, des points de vie, etc … Ce sont les attributs de l’objet personnage</p>
<h2 id="déclaration">Déclaration</h2>
<p>La définition des attributs est à faire dans la <strong>méthode</strong> (voir chapitre suivant) <code>__init__(self)</code><br>
Cette méthode un peu particulière est le <strong>constructeur</strong>, elle est appelée lors de l’instanciation de l’objet.</p>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># La déclaration des variables commence ici</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> <span class="token string">''</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> <span class="token number">0</span>
        
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>nom
<span class="token string">''</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">0</span>
</code></pre>
<p>En Python la bonne pratique est de définir les attributs d’un objet dans le constructeur de la classe.<br>
Il est aussi possible de définir les attributs à la volée, mais cette pratique est déconseillée, car il devient alors très compliqué pour un autre développeur de comprendre votre code (ou vous même après 6 mois à avoir travailler sur un autre sujet)</p>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>nom
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'Personnage'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'nom'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>nom <span class="token operator">=</span> <span class="token string">'Dustin'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>nom
<span class="token string">'Dustin'</span>
</code></pre>
<h3 id="self">Self</h3>
<p>Le mot clé <code>self</code> présent dans le constructeur représente l’instance de l’objet, dans le constructeur, on peut traduire <code>self.nom = ''</code> par “défini mon nom à vide que je suis créé”</p>
<h2 id="déclaration-avec-paramètres">Déclaration avec paramètres</h2>
<p>Il est tout à fait possible de spécifier des paramètres lors de la création de notre objet, il suffit de le spécifier dans le <strong>constructeur</strong> qui est au final une fonction de l’objet, on peut donc spécifier des valeurs par défaut</p>
<blockquote>
<p>Le passage de paramètres implique de fournir des données lors de l’instanciation</p>
</blockquote>
<p>Exemple:</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Dustin'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso3 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Lucas'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>pt_vie
<span class="token number">150</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso3<span class="token punctuation">.</span>pt_vie
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>nom
<span class="token string">'Will'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="objets-composés">Objets composés</h2>
<p>Un objet peut être composé d’objets eux-mêmes composés d’objets si nous le souhaitons</p>
<p>Exemple:</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Piston</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un piston
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> diameter<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>diameter <span class="token operator">=</span> diameter

<span class="token keyword">class</span> <span class="token class-name">Moteur</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un moteur
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nb_piston<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pistons <span class="token operator">=</span> <span class="token punctuation">[</span>Piston<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nb_piston<span class="token punctuation">)</span><span class="token punctuation">]</span>
        
<span class="token keyword">class</span> <span class="token class-name">Vehicule</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un vehicule
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>moteur <span class="token operator">=</span> Moteur<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> v <span class="token operator">=</span> Vehicule<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> v<span class="token punctuation">.</span>moteur
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Moteur <span class="token builtin">object</span> at <span class="token number">0x039857F0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> v<span class="token punctuation">.</span>moteur<span class="token punctuation">.</span>pistons
<span class="token punctuation">[</span><span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Piston <span class="token builtin">object</span> at <span class="token number">0x03985830</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Piston <span class="token builtin">object</span> at <span class="token number">0x039858B0</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Piston <span class="token builtin">object</span> at <span class="token number">0x039858D0</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Piston <span class="token builtin">object</span> at <span class="token number">0x039858F0</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> v<span class="token punctuation">.</span>moteur<span class="token punctuation">.</span>pistons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Piston <span class="token builtin">object</span> at <span class="token number">0x03985830</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="attributs-statiques">Attributs statiques</h2>
<p>Comme nous l’avons vu précédemment, les attributs sont propres à chaque instance, modifier un attribut d’une instance ne modifie pas les autres instances.</p>
<p>Il arrive qu’on souhaite définir un attribut commun à l’ensemble des instances, c’est un attribut statique.<br>
On peut accéder à un attribut statique en faisant <code>&lt;ma_classe&gt;.&lt;mon_attribut&gt;</code> ou <code>&lt;mon_instance&gt;.&lt;mon_attribut&gt;</code></p>
<p>Exemple:</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    
    max_pt_vie <span class="token operator">=</span> <span class="token number">200</span>  <span class="token comment"># Pour l'ensemble des instances, maxPtVie vaudra 200</span>
    
    <span class="token keyword">def</span> <span class="token function">__int__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
        
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Personnage<span class="token punctuation">.</span>max_pt_vie       <span class="token comment"># Accès à l'attribut statique via la classe</span>
<span class="token number">200</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>max_pt_vie           <span class="token comment"># Accès à l'attribut statique via l'instance</span>
<span class="token number">200</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>max_pt_vie
<span class="token number">200</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Personnage<span class="token punctuation">.</span>max_pt_vie <span class="token operator">=</span> <span class="token number">150</span>  <span class="token comment"># Modification de l'attribut statique</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>max_pt_vie            <span class="token comment"># Mise à jour effectuée dans l'ensemble des instances</span>
<span class="token number">150</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>max_pt_vie
<span class="token number">150</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="attributs-privés">Attributs privés</h2>
<p>Les attributs privés sont des attributs uniquement accessibles dans le code de notre classe.</p>
<p>Pour des questions de bonnes pratiques, on essaie de mettre le maximum d’attributs en privé.</p>
<p>Dans l’exemple d’un Personnage, on ne souhaite pas que le développeur qui utilise notre classe puisse modifier les points de vie du personnage sans contrôle de notre part.</p>
<h3 id="déclaration-1">Déclaration</h3>
<p>Pour déclarer un attribut privé, on précède le nom de <code>__</code>.</p>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token comment"># Classe avec attribut public</span>
<span class="token keyword">class</span> <span class="token class-name">PersonnageA</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_vie<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
        
<span class="token comment"># Classe avec attribut privé</span>
<span class="token keyword">class</span> <span class="token class-name">PersonnageB</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_vie<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> pt_vie
        
    <span class="token keyword">def</span> <span class="token function">afficherVie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__pt_vie<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> PersonnageA<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> <span class="token number">50</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">50</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> PersonnageB<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>__pt_vie
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'PersonnageB'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'__pt_vie'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> PersonnageB<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>afficherVie<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">100</span>
</code></pre>
<p>On peut voir que Python nous empêche d’accéder à notre attribut depuis l’extérieur de l’objet, mais qu’il est bien accessible depuis notre instance via <code>self</code>.</p>
<h3 id="pas-si-privé-que-ça">Pas si privé que ça</h3>
<p>En fait, Python ne nous empêche pas vraiment d’accéder à l’attribut, il le cache sous un autre nom.<br>
On peut s’en apercevoir en utilisant <code>__dict__</code> qui nous retourne l’objet sous forme de dictionnaire</p>
<blockquote>
<p><code>__dict__</code> fait partie des nombreuses choses que Python ajoute à nos objets.</p>
</blockquote>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token comment"># Classe avec attribut privé  </span>
<span class="token keyword">class</span> <span class="token class-name">PersonnageB</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_vie<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> pt_vie  
  
    <span class="token keyword">def</span> <span class="token function">afficherVie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__pt_vie<span class="token punctuation">)</span>
        
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> PersonnageB<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>afficherVie<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>__dict__
<span class="token punctuation">{</span><span class="token string">'_PersonnageB__pt_vie'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>_PersonnageB__pt_vie
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>_PersonnageB__pt_vie <span class="token operator">=</span> <span class="token number">50</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>afficherVie<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">50</span>
</code></pre>
<h1 id="méthodes">3 - Méthodes</h1>
<p>Les méthodes sont les interactions disponibles pour manipuler notre objet, Python nous en offre déjà plusieurs, nous en avons déjà vu une, le <strong>constructeur</strong>, nous en verrons d’autres un peu plus loin,<br>
prenons le cas d’un téléphone portable, nous pouvons l’allumer, l’éteindre, appeler, raccrocher, etc … Ce sont les méthodes de notre objet téléphone.</p>
<h2 id="constructeur">Constructeur</h2>
<p>Le constructeur est appelé lors de la création d’un objet, il existe par défaut dans tout les objets.<br>
Il est possible de définir notre propre constructeur, il faut pour cela redéfinir la méthode <code>__init__(self, &lt;param&gt;, ...)</code><br>
Contrairement à d’autres langages, il n’est pas possible d’avoir plusieurs constructeurs.</p>
<h3 id="exemple-">Exemple :</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Demogorgon</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un Demogorgon
    """</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> adulte<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Constructeur de la classe
        
        :param adulte: True pour adulte, False pour enfant
        :type adulte: bool
        """</span>
        self<span class="token punctuation">.</span>is_adulte <span class="token operator">=</span> adulte
 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon <span class="token operator">=</span> Demogorgon<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon<span class="token punctuation">.</span>is_adulte
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demodog <span class="token operator">=</span> Demogorgon<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demodog<span class="token punctuation">.</span>is_adulte
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="méthodes-dinstance">Méthodes d’instance</h2>
<p>Il existe plusieurs types de méthode qui ont chacune leurs utilités, les méthodes d’instance sont les plus courantes.</p>
<p>Une méthode d’instance est une méthode qui existe uniquement si un objet est instancié, dans l’exemple du téléphone portable, il est impossible d’appeler avec un plan de téléphone portable, il faut nécessairement que celui-ci existe pour pouvoir effectuer une action.</p>
<p>Elles sont reconnaissables, car le premier argument de la méthode est <code>self</code>, une référence de l’instance de la classe<br>
Il suffit ensuite de faire <code>&lt;mon_instance&gt;.&lt;ma_methode&gt;()</code></p>
<h3 id="exemple--1">Exemple :</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
    <span class="token keyword">def</span> <span class="token function">direBonjour</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Le personnage dit bonjour dans la console
        """</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Bonjour mon nom est '</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>nom<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Dustin'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>direBonjour<span class="token punctuation">(</span><span class="token punctuation">)</span>
Bonjour mon nom est Dustin
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>direBonjour<span class="token punctuation">(</span><span class="token punctuation">)</span>
Bonjour mon nom est Will
</code></pre>
<h3 id="méthodes-privées">Méthodes privées</h3>
<p>De la même manière que les attributs privés, il est possible de définir des méthodes privées.<br>
C’est-à-dire que les méthodes seront uniquement accessibles à l’intérieur de la classe.<br>
Pour définir une méthode comme privée, il faut précéder le nom de <code>__</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
  
    <span class="token keyword">def</span> <span class="token function">__dire_bonjour_prive</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Bonjour !'</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">dire_bonjour_public</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>__dire_bonjour_prive<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso<span class="token punctuation">.</span>__dire_bonjour_prive<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'Personnage'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'__dire_bonjour_prive'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso<span class="token punctuation">.</span>dire_bonjour_public<span class="token punctuation">(</span><span class="token punctuation">)</span>
Bonjour !
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="méthodes-statiques">Méthodes statiques</h2>
<p>Une méthode statique est une méthode qui existe en dehors de toute instance.<br>
C’est-à-dire qu’il n’y a pas besoin de créer un objet pour pouvoir utiliser la méthode.</p>
<p>Ça implique que les attributs d’instance ne sont pas accessibles.<br>
Pour déclarer une méthode statique, on utilise le décorateur <code>@staticmethod</code></p>
<blockquote>
<p>Les décorateurs sont une notion de programmation avancée.<br>
En substance, un décorateur modifie le comportement de fonctions ou de classes.<br>
Ici il transforme une fonction en méthode statique<br>
Il suffit ensuite de faire <code>&lt;mon_classe&gt;.&lt;ma_methode_statique&gt;()</code></p>
</blockquote>
<h3 id="exemple--2">Exemple :</h3>
<p>Créons un fichier <code>models.py</code>contenant le code suivant</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Represente un personnage"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> attaque<span class="token punctuation">,</span> defense<span class="token punctuation">,</span> vitesse<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>vie <span class="token operator">=</span> vie
        self<span class="token punctuation">.</span>mana <span class="token operator">=</span> mana
        self<span class="token punctuation">.</span>attaque <span class="token operator">=</span> attaque
        self<span class="token punctuation">.</span>defense <span class="token operator">=</span> defense
        self<span class="token punctuation">.</span>vitesse <span class="token operator">=</span> vitesse
    @<span class="token builtin">staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">from_json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        p <span class="token operator">=</span> Personnage<span class="token punctuation">(</span>
            data<span class="token punctuation">[</span><span class="token string">'nom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vie'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'mana'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'attaque'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'defense'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vitesse'</span><span class="token punctuation">]</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">return</span> p
</code></pre>
<p>Il y a ici le constructeur par défaut qui demande l’ensemble des paramètres au développeur, et une méthode statique permettant de créer un personnage via un dictionnaire.</p>
<h4 id="usage-">Usage :</h4>
<p>Dans le dossier contenant le fichier <code>models.py</code> ouvrir un interpréteur.</p>
<pre class=" language-python"><code class="prism  language-python">Python <span class="token number">3.5</span><span class="token punctuation">.</span><span class="token number">2</span> <span class="token punctuation">(</span>default<span class="token punctuation">,</span> Nov <span class="token number">23</span> <span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>GCC <span class="token number">5.4</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token number">20160609</span><span class="token punctuation">]</span> on linux
Type <span class="token string">"help"</span><span class="token punctuation">,</span> <span class="token string">"copyright"</span><span class="token punctuation">,</span> <span class="token string">"credits"</span> <span class="token operator">or</span> <span class="token string">"license"</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> models <span class="token keyword">import</span> Personnage
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Dustin'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>nom
<span class="token string">'Dustin'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>vie
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'vie'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'mana'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'attaque'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'defense'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'vitesse'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2 <span class="token operator">=</span> Personnage<span class="token punctuation">.</span>from_json<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>nom
<span class="token string">'Will'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>vie
<span class="token number">100</span>
</code></pre>
<h2 id="méthodes-de-classe">Méthodes de classe</h2>
<p>Les méthodes des classes ressemblent énormément aux méthodes statiques.<br>
Pour déclarer une méthode de classe, on utilise le décorateur <code>@classmethod</code>.</p>
<p>La méthode doit prendre en paramètre une classe <code>cls</code>, de la même manière qu’une méthode d’instance prend <code>self</code> en premier paramètre.</p>
<h3 id="exemple--3">Exemple :</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un personnage
    """</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
    @<span class="token builtin">staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">direBonjourStatic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Bonjour'</span><span class="token punctuation">)</span>
        
    @<span class="token builtin">classmethod</span>
    <span class="token keyword">def</span> <span class="token function">direBonjourClass</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} : Bonjour'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">)</span>
        
    <span class="token keyword">def</span> <span class="token function">direBonjourInstance</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} : Bonjour je suis {1}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> self<span class="token punctuation">.</span>nom<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Personnage<span class="token punctuation">.</span>direBonjourStatic<span class="token punctuation">(</span><span class="token punctuation">)</span>
Bonjour
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Personnage<span class="token punctuation">.</span>direBonjourClass<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Personnage'</span><span class="token operator">&gt;</span> <span class="token punctuation">:</span> Bonjour
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Dustin'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>direBonjourInstance<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x7f46d2f993c8</span><span class="token operator">&gt;</span> <span class="token punctuation">:</span> Bonjour<span class="token punctuation">,</span> je suis Dustin
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h3 id="utilité">Utilité</h3>
<p>Les méthodes de classes sont généralement utiles dans le cas de l’héritage (chapitre suivant), reprenons notre fichier <code>models.py</code> et ajoutons un héritage.</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""Represente un personnage"""</span>  
  
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> attaque<span class="token punctuation">,</span> defense<span class="token punctuation">,</span> vitesse<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom  
        self<span class="token punctuation">.</span>vie <span class="token operator">=</span> vie  
        self<span class="token punctuation">.</span>mana <span class="token operator">=</span> mana  
        self<span class="token punctuation">.</span>attaque <span class="token operator">=</span> attaque  
        self<span class="token punctuation">.</span>defense <span class="token operator">=</span> defense  
        self<span class="token punctuation">.</span>vitesse <span class="token operator">=</span> vitesse  
  
    @<span class="token builtin">staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">from_json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        p <span class="token operator">=</span> Personnage<span class="token punctuation">(</span>  
            data<span class="token punctuation">[</span><span class="token string">'nom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vie'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'mana'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'attaque'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'defense'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vitesse'</span><span class="token punctuation">]</span>  
        <span class="token punctuation">)</span>  
  
        <span class="token keyword">return</span> p  
  
<span class="token comment"># Héritage, le Demogorgon est un Personnage</span>
<span class="token keyword">class</span> <span class="token class-name">Demogorgon</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""Represente un demogorgon"""</span>
</code></pre>
<p>Essayons maintenant de créer un personnage et un demogorgon.</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> models <span class="token keyword">import</span> Personnage<span class="token punctuation">,</span> Demogorgon
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'vie'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'mana'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'attaque'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'defense'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'vitesse'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Demogorgon'</span><span class="token punctuation">,</span> <span class="token string">'vie'</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'mana'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'attaque'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'defense'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'vitesse'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">.</span>from_json<span class="token punctuation">(</span>will_data<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will
<span class="token operator">&lt;</span>model<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x7f6740cc29e8</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon <span class="token operator">=</span> Demogorgon<span class="token punctuation">.</span>from_json<span class="token punctuation">(</span>demogorgon_data<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon
<span class="token operator">&lt;</span>model<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x7f6740cd8dd8</span><span class="token operator">&gt;</span>   <span class="token comment"># Probleme ici</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p><code>demogorgon</code> est une instance de la classe <code>Personnage</code>, hors c’est une instance de la classe <code>Demogorgon</code> qu’on souhaitait créer.</p>
<p>Pour remédier au problème, on utilise une @classmethod.<br>
Modifions de nouveau notre fichier <code>models.py</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""Represente un personnage"""</span>  
  
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> vie<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> attaque<span class="token punctuation">,</span> defense<span class="token punctuation">,</span> vitesse<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom  
        self<span class="token punctuation">.</span>vie <span class="token operator">=</span> vie  
        self<span class="token punctuation">.</span>mana <span class="token operator">=</span> mana  
        self<span class="token punctuation">.</span>attaque <span class="token operator">=</span> attaque  
        self<span class="token punctuation">.</span>defense <span class="token operator">=</span> defense  
        self<span class="token punctuation">.</span>vitesse <span class="token operator">=</span> vitesse  
  
    @<span class="token builtin">classmethod</span>                <span class="token comment"># Changement ici</span>
    <span class="token keyword">def</span> <span class="token function">from_json</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        c <span class="token operator">=</span> cls<span class="token punctuation">(</span>                <span class="token comment"># Changement ici</span>
            data<span class="token punctuation">[</span><span class="token string">'nom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vie'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'mana'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            data<span class="token punctuation">[</span><span class="token string">'attaque'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'defense'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token punctuation">[</span><span class="token string">'vitesse'</span><span class="token punctuation">]</span>  
        <span class="token punctuation">)</span>  
  
        <span class="token keyword">return</span> c
</code></pre>
<p>Essayons de nouveau de créer un personnage et un demogorgon.</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> models <span class="token keyword">import</span> Personnage<span class="token punctuation">,</span> Demogorgon
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'vie'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'mana'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'attaque'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'defense'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'vitesse'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Demogorgon'</span><span class="token punctuation">,</span> <span class="token string">'vie'</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'mana'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'attaque'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'defense'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'vitesse'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">.</span>from_json<span class="token punctuation">(</span>will_data<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon <span class="token operator">=</span> Demogorgon<span class="token punctuation">.</span>from_json<span class="token punctuation">(</span>demogorgon_data<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will
<span class="token operator">&lt;</span>model<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x7f94c8bc8d30</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> demogorgon
<span class="token operator">&lt;</span>model<span class="token punctuation">.</span>Demogorgon <span class="token builtin">object</span> at <span class="token number">0x7f94c8bc8ef0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Cette fois-ci nous avons bien instancié un Demogorgon.</p>
<blockquote>
<p>L’héritage sera vu au chapitre suivant</p>
</blockquote>
<h2 id="property-getter">Property (Getter)</h2>
<p>Les property sont des méthodes nous permettant d’accéder à des informations en lecture seule.</p>
<p>C’est très pratique quand on veut exposer un attribut privé.<br>
Étant des méthodes nous pouvons aussi faire des opérations avant de retourner l’information.</p>
<p>Pour déclarer une propriété, on utilise le décorateur <code>@property</code> et on nomme la méthode en fonction du nom de la propriété souhaité.<br>
La méthode contient uniquement le paramètre <code>self</code><br>
On peut ensuite accéder à l’information via <code>&lt;mon_instance&gt;.&lt;ma_propriété&gt;</code>.</p>
<h3 id="exemple--4">Exemple :</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> first_bame<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__last_name <span class="token operator">=</span> last_name
        self<span class="token punctuation">.</span>__first_bame <span class="token operator">=</span> first_bame
        
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">last_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__last_name
    
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">first_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__first_name
    
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">full_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>last_name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>first_name

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">'Robinson'</span><span class="token punctuation">,</span> <span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u<span class="token punctuation">.</span>first_name
<span class="token string">'Will'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u<span class="token punctuation">.</span>last_name
<span class="token string">'Robinson'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u<span class="token punctuation">.</span>full_name
<span class="token string">'Robinson Will'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> u<span class="token punctuation">.</span>first_name <span class="token operator">=</span> <span class="token string">'Dustin'</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
AttributeError<span class="token punctuation">:</span> can't <span class="token builtin">set</span> attribute
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="setter">Setter</h2>
<p>Les setters nous permettent de modifier la valeur des <strong>property</strong>, c’est très pratique, car cela nous permet d’avoir un contrôle sur les données fournies par le développeur qui utilise notre classe.</p>
<p>Reprenons l’exemple du personnage, si nous fixons la quantité de vie maximale à 200, nous ne souhaitons pas que le développeur puisse fixer la vie d’un personnage à 300, de même nous ne souhaitons pas que la vie puisse être inférieure à 0.</p>
<p>Les setters nous permettent de faire cela, pour utiliser un setter, il faut avoir déclaré une property.</p>
<p>Pour déclarer un setter, on utilise le décorateur <code>@&lt;ma_propriété&gt;.setter</code> et on nomme la méthode en fonction du nom de la propriété souhaité.<br>
La méthode contient le paramètre <code>self</code> ainsi que la valeur fournie par le développeur</p>
<h3 id="exemple--5">Exemple :</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    max_pt_bie <span class="token operator">=</span> <span class="token number">200</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_vie<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># On fixe une valeur par défaut  </span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie  <span class="token comment"># On utilise le setter pour contrôler pt_vie  </span>
        
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">pt_vie</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__pt_vie
    
    @pt_vie<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">pt_vie</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">elif</span> value <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>max_pt_vie<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> value
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__pt_vie <span class="token operator">=</span> self<span class="token punctuation">.</span>max_pt_vie
            
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> <span class="token number">199</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">199</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> <span class="token number">300</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">200</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin<span class="token punctuation">.</span>pt_vie
<span class="token number">0</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will<span class="token punctuation">.</span>pt_vie
<span class="token number">0</span>
</code></pre>
<h1 id="héritage">4 - Héritage</h1>
<p>L’un des avantages de la programmation objet est que l’on peut créer des classes à partir d’autres classes existantes.</p>
<p>On parle alors d’héritage, un classe enfant hérite des attributs et des méthodes d’une classe parent.<br>
Un concept simple, mais extrêmement puissant.</p>
<p>On peut imaginer l’héritage comme un arbre de spécialisations</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-xv93VKIHm4QCxd4W" width="100%" style="max-width: 710.890625px;" viewBox="0 0 710.890625 454"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M353.8374743852459,92L308.65625,117L308.65625,142" marker-end="url(#arrowhead108)" style="fill:none"></path><defs><marker id="arrowhead108" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M510.7578125,84.8545681297019L613.09375,117L613.09375,142" marker-end="url(#arrowhead109)" style="fill:none"></path><defs><marker id="arrowhead109" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M259.1101434426229,214L224.703125,239L224.703125,264" marker-end="url(#arrowhead110)" style="fill:none"></path><defs><marker id="arrowhead110" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M358.2023565573771,214L392.609375,239L392.609375,264" marker-end="url(#arrowhead111)" style="fill:none"></path><defs><marker id="arrowhead111" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M613.09375,214L613.09375,239L613.09375,264" marker-end="url(#arrowhead112)" style="fill:none"></path><defs><marker id="arrowhead112" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M175.484375,326.5914752283421L111.796875,361L111.796875,386" marker-end="url(#arrowhead113)" style="fill:none"></path><defs><marker id="arrowhead113" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M273.921875,326.5914752283421L337.609375,361L337.609375,386" marker-end="url(#arrowhead114)" style="fill:none"></path><defs><marker id="arrowhead114" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="A" transform="translate(418.8984375,56)" style="opacity: 1;"><rect rx="0" ry="0" x="-91.859375" y="-36" width="183.71875" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-81.859375,-26)"><foreignObject width="163.71875" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Personnage</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="B" transform="translate(308.65625,178)"><rect rx="0" ry="0" x="-91.359375" y="-36" width="182.71875" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-81.359375,-26)"><foreignObject width="162.71875" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Humanoïde</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="C" transform="translate(613.09375,178)"><rect rx="0" ry="0" x="-69.21875" y="-36" width="138.4375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-59.21875,-26)"><foreignObject width="118.4375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Monstre</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="D" transform="translate(224.703125,300)"><rect rx="0" ry="0" x="-49.21875" y="-36" width="98.4375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-39.21875,-26)"><foreignObject width="78.4375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mage</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="E" transform="translate(392.609375,300)"><rect rx="0" ry="0" x="-68.6875" y="-36" width="137.375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-58.6875,-26)"><foreignObject width="117.375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Guerrier</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="F" transform="translate(613.09375,300)"><rect rx="0" ry="0" x="-101.796875" y="-36" width="203.59375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-91.796875,-26)"><foreignObject width="183.59375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Demogorgon</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="G" transform="translate(111.796875,422)"><rect rx="0" ry="0" x="-91.796875" y="-36" width="183.59375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-81.796875,-26)"><foreignObject width="163.59375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mage Blanc</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="H" transform="translate(337.609375,422)"><rect rx="0" ry="0" x="-84.015625" y="-36" width="168.03125" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-74.015625,-26)"><foreignObject width="148.03125" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mage Noir</div></foreignObject></g></g></g></g></g></g></svg></div>
<h2 id="déclaration-2">Déclaration</h2>
<p>Pour déclarer un héritage, il suffit d’ajouter <code>(&lt;class_parent&gt;)</code> à suite du nom d’une classe.<br>
On dira que notre classe hérite (ou dérive) la classe parent</p>
<h3 id="exemple">Exemple</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Generalisation d'un personnage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
        self<span class="token punctuation">.</span>level <span class="token operator">=</span> level
    <span class="token keyword">def</span> <span class="token function">level_up</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">+=</span> <span class="token number">50</span>
        self<span class="token punctuation">.</span>level <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">class</span> <span class="token class-name">Mage</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un Mage
    """</span>

<span class="token keyword">class</span> <span class="token class-name">Guerrier</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un guerrier
    """</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Mage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level_up<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
<span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>perso1<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Mage'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2 <span class="token operator">=</span> Guerrier<span class="token punctuation">(</span><span class="token string">'Hopper'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>level
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>level_up<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>level
<span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>perso2<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Guerrier'</span><span class="token operator">&gt;</span>
</code></pre>
<blockquote>
<p>L’exemple est trivial, il n’y a pas de différence entre les classes.<br>
Ici on a généralisé la notion de personnage, et on a créé des classes pour des types de personnages particuliers.</p>
</blockquote>
<p>Les classes <code>Mage</code> et <code>Guerrier</code> héritent (dérive, est une spécialisation) de la classe <code>Personnage</code>, elles possèdent les attributs et la méthode de la classe <code>Personnage</code></p>
<h2 id="constructeur-1">Constructeur</h2>
<p>Quand on souhaite ajouter des attributs à une classe enfant, il faut redéfinir le constructeur de la classe ou ajouter des attributs statiques.</p>
<p>Exemple nous souhaitons ajouter des points de mana à notre classe <code>Mage</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Mage</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un Mage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pt_mana<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_mana <span class="token operator">=</span> pt_mana
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Mage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'Mage'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'level'</span>
</code></pre>
<p>Et la, problème l’héritage n’a pas fonctionné, notre mage ne possède pas d’attribut <code>level</code>.</p>
<p>Le problème vient du fait que nous avons redéfini le constructeur de la classe enfant, et le constructeur de la classe parent n’est plus appelé.</p>
<p>Illustration:</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Constructeur de A'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Constructeur de B'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Constructeur de C'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> va <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
Constructeur de A
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> vb <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span>
Constructeur de B
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> vc <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span>
Constructeur de A
Constructeur de C
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p><code>super()</code> nous donne accès à la classe parent.<br>
Quand on redéfinit un constructeur, il est important d’appeler le constructeur de la classe parent.<br>
Cela implique qu’il faut fournir tous les arguments obligatoires.</p>
<h3 id="exemple-1">Exemple</h3>
<p>Reprenons nos classes <code>Mage</code> et <code>Guerrier</code> et appelons le constructeur de la classe <code>Personnage</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Generalisation d'un personnage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
        self<span class="token punctuation">.</span>level <span class="token operator">=</span> level
    <span class="token keyword">def</span> <span class="token function">level_up</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">+=</span> <span class="token number">50</span>
        self<span class="token punctuation">.</span>level <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">class</span> <span class="token class-name">Mage</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un Mage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> pt_mana<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> pt_vie<span class="token punctuation">,</span> level<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>pt_mana <span class="token operator">=</span> pt_mana

<span class="token keyword">class</span> <span class="token class-name">Guerrier</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un guerrier
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> force<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> pt_vie<span class="token punctuation">,</span> level<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>force <span class="token operator">=</span> force
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Mage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2 <span class="token operator">=</span> Guerrier<span class="token punctuation">(</span><span class="token string">'Hopper'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>level
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>ptMana
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso2<span class="token punctuation">.</span>ptVie
<span class="token number">150</span>
</code></pre>
<h2 id="héritage-multiple">Héritage multiple</h2>
<p>Il est possible d’hériter de plusieurs classes.<br>
Prenons l’exemple d’un smartphone, c’est à la fois un téléphone est un ordinateur.</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-rIMngplvchGkUpfP" width="100%" style="max-width: 404.5px;" viewBox="0 0 404.5 210"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M102.515625,92L102.515625,117L147.44390368852459,142" marker-end="url(#arrowhead122)" style="fill:none"></path><defs><marker id="arrowhead122" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M321.765625,92L321.765625,117L276.8373463114754,142" marker-end="url(#arrowhead123)" style="fill:none"></path><defs><marker id="arrowhead123" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="A" transform="translate(102.515625,56)" style="opacity: 1;"><rect rx="0" ry="0" x="-82.515625" y="-36" width="165.03125" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-72.515625,-26)"><foreignObject width="145.03125" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Téléphone</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="B" transform="translate(321.765625,56)"><rect rx="0" ry="0" x="-86.734375" y="-36" width="173.46875" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-76.734375,-26)"><foreignObject width="153.46875" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Ordinateur</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="C" transform="translate(212.140625,178)"><rect rx="0" ry="0" x="-95.53125" y="-36" width="191.0625" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-85.53125,-26)"><foreignObject width="171.0625" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Smartphone</div></foreignObject></g></g></g></g></g></g></svg></div>
<h3 id="exemple-2">Exemple</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Telephone</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numero<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>numero <span class="token operator">=</span> numero
    <span class="token keyword">def</span> <span class="token function">appeler</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numero<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Appel vers {0} en cours ...'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>numero<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Ordinateur</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ip<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>ip <span class="token operator">=</span> ip
    <span class="token keyword">def</span> <span class="token function">get_page_web</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&lt;html&gt;&lt;body&gt;{0}&lt;/body&gt;&lt;/html&gt;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Smartphone</span><span class="token punctuation">(</span>Telephone<span class="token punctuation">,</span> Ordinateur<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numero<span class="token punctuation">,</span> ip<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Telephone<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> numero<span class="token punctuation">)</span>
        Ordinateur<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> ip<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s8 <span class="token operator">=</span> Smartphone<span class="token punctuation">(</span><span class="token string">'0000000000'</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s8<span class="token punctuation">.</span>appeler<span class="token punctuation">(</span><span class="token string">'000000001'</span><span class="token punctuation">)</span>
Appel vers <span class="token number">000000001</span> en cours <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s8<span class="token punctuation">.</span>get_page_web<span class="token punctuation">(</span><span class="token string">'http://localhost/'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token operator">//</span>localhost<span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Quand on utilise l’héritage multiple, l’utilisation de <code>super()</code> est compliqué, car Python ne sait pas qu’elle classe choisir, on le remplace par <code>&lt;nom_classe_parent&gt;.__init(self, &lt;params&gt;)</code>.</p>
<p>Lors d’héritage multiple, il faut faire attention aux noms des attributs et des variables, il y a des risques de collisions.<br>
L’héritage multiple est une notion assez peu utilisée.</p>
<h2 id="vérifier-le-type-dun-objet">Vérifier le type d’un objet</h2>
<p>Bien souvent quand on utilise des méthodes et l’héritage, on souhaite connaitre le type d’un objet.<br>
Pour cela il faut utiliser les fonctions <code>type</code> et <code>isinstance</code></p>
<h3 id="exemple-3">Exemple</h3>
<p><code>type</code> nous retourne la classe de l’objet alors que <code>isinstance</code> va parcourir l’arbre d’héritage pour nous répondre</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">""""""  
  
  
class B(A):  
    """</span><span class="token triple-quoted-string string">"""  
  
  
class C:  
    """</span><span class="token triple-quoted-string string">"""  
  
  
class D(B, C):  
    """</span><span class="token string">""</span>"
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> var <span class="token operator">=</span> D<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'sandbox.D'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> D<span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> C<span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> A<span class="token punctuation">)</span>
<span class="token boolean">True</span>
</code></pre>
<p>En général on utilise <code>isinstance</code> car on souhaite vérifier un comportement plutôt qu’un type.</p>
<h1 id="polymorphisme">5 - Polymorphisme</h1>
<p>Le polymorphisme, c’est modifier le comportement d’un objet via l’héritage.<br>
Pour cela on modifie les méthodes de la classe.</p>
<h2 id="exemple-4">Exemple</h2>
<p>Reprenons nos classes, quand un personnage monte de niveau seuls <code>pt_vie</code> et <code>level</code> sont incrémentés, dans le cas du guerrier et du mage, nous souhaitons incrémenter <code>pt_mana</code> et <code>force</code> à chaque montée de niveau.</p>
<p>Pour cela on va modifier le comportement de l’objet et redéfinir la méthode <code>level_up</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Generalisation d'un personnage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">=</span> pt_vie
        self<span class="token punctuation">.</span>level <span class="token operator">=</span> level
    <span class="token keyword">def</span> <span class="token function">level_up</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pt_vie <span class="token operator">+=</span> <span class="token number">50</span>
        self<span class="token punctuation">.</span>level <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">class</span> <span class="token class-name">Mage</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un Mage
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> pt_mana<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> pt_vie<span class="token punctuation">,</span> level<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>pt_mana <span class="token operator">=</span> pt_mana
    <span class="token keyword">def</span> <span class="token function">level_up</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token comment"># Redéfinition</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>level_up<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># Appel de la méthode parent</span>
        self<span class="token punctuation">.</span>pt_mana <span class="token operator">+=</span> <span class="token number">25</span>

<span class="token keyword">class</span> <span class="token class-name">Guerrier</span><span class="token punctuation">(</span>Personnage<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente un guerrier
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> pt_vie<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">,</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> force<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>nom<span class="token punctuation">,</span> pt_vie<span class="token punctuation">,</span> level<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>force <span class="token operator">=</span> force
        
    <span class="token keyword">def</span> <span class="token function">level_up</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token comment"># Redéfinition</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>level_up<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># Appel de méthode parent</span>
        self<span class="token punctuation">.</span>force <span class="token operator">+=</span> <span class="token number">25</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1 <span class="token operator">=</span> Mage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>pt_mana
<span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
<span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level_up<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>pt_mana
<span class="token number">125</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso1<span class="token punctuation">.</span>level
<span class="token number">2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Ici le changement de comportement est très faible, on incrémente juste les propriétés propres à chaque classe enfant.</p>
<p>Mais il y a bien eu changement de comportement.</p>
<h2 id="exemple-avancé">Exemple avancé</h2>
<p>L’exemple précédent est un exemple simple de polymorphisme, c’est aussi le cas pratique le plus courant.</p>
<p>Mais il est possible d’aller plus loin dans modification de comportement d’un objet.</p>
<p>Prenons l’exemple d’une classe <code>Couleur</code> qui représente une couleur au format RGB</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Couleur</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Represente une couleur
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> g<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__red <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>__green <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>__blue <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>red <span class="token operator">=</span> r
        self<span class="token punctuation">.</span>green <span class="token operator">=</span> g
        self<span class="token punctuation">.</span>blue <span class="token operator">=</span> b
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">red</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__red
    @red<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">red</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__red <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">elif</span> value <span class="token operator">&lt;</span> <span class="token number">255</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__red <span class="token operator">=</span> value
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__red <span class="token operator">=</span> <span class="token number">255</span>
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">green</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__green
    @green<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">green</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__green <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">elif</span> value <span class="token operator">&lt;</span> <span class="token number">255</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__green <span class="token operator">=</span> value
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__green <span class="token operator">=</span> <span class="token number">255</span>
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">blue</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__blue
    @blue<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">blue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__blue <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">elif</span> value <span class="token operator">&lt;</span> <span class="token number">255</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__blue <span class="token operator">=</span> value
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__blue <span class="token operator">=</span> <span class="token number">255</span>
</code></pre>
<p>On aimerait bien pouvoir faire des opérations mathématiques avec nos couleurs, par exemple pouvoir faire une addition ou une soustraction.</p>
<h3 id="sans-polymorphisme">Sans polymorphisme</h3>
<p>Une des manières d’y arriver et de créer une méthode <code>add</code> et une méthode<code>sub</code> à notre classe.</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Couleur</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    
    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> couleur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Couleur<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>red <span class="token operator">+</span> couleur<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>green <span class="token operator">+</span> couleur<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>blue <span class="token operator">+</span> couleur<span class="token punctuation">.</span>blue
        <span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">sub</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> couleur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Couleur<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>red <span class="token operator">-</span> couleur<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>green <span class="token operator">-</span> couleur<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>blue <span class="token operator">-</span> couleur<span class="token punctuation">.</span>blue
        <span class="token punctuation">)</span>
</code></pre>
<p>Nous pouvons ensuite faire</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c1 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c2 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c3 <span class="token operator">=</span> c1<span class="token punctuation">.</span>add<span class="token punctuation">(</span>c2<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} {1} {2}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c3<span class="token punctuation">.</span>red<span class="token punctuation">,</span> c3<span class="token punctuation">.</span>green<span class="token punctuation">,</span> c3<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">3</span> <span class="token number">3</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c4 <span class="token operator">=</span> c1<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>c3<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} {1} {2}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c4<span class="token punctuation">.</span>red<span class="token punctuation">,</span> c4<span class="token punctuation">.</span>green<span class="token punctuation">,</span> c4<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Ça fonctionne, mais ce n’est pas du polymorphisme, nous n’avons pas redéfini le comportement de l’objet, nous avons juste créé 2 nouveaux comportements.</p>
<h3 id="avec-polymorphisme">Avec polymorphisme</h3>
<p>Pour faire du polymorphisme, nous allons redéfinir le comportement de l’objet face aux opérateurs <code>+</code> et <code>-</code>.<br>
Actuellement si nous essayons, l’interpréteur Python n’est pas content :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c1 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c2 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c3 <span class="token operator">=</span> c1 <span class="token operator">+</span> c2
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
TypeError<span class="token punctuation">:</span> unsupported operand <span class="token builtin">type</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token operator">+</span><span class="token punctuation">:</span> <span class="token string">'Couleur'</span> <span class="token operator">and</span> <span class="token string">'Couleur'</span>
</code></pre>
<p>Vous vous souvenez que tous les objets héritent de la classe <code>object</code> ?<br>
Et bien il est possible de redéfinir le comportement de l’objet face à opérateur <code>+</code> ou <code>-</code> (et bien plus).</p>
<p>Pour cela il suffit de redéfinir les méthodes <code>__add__</code> et <code>__sub__</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Couleur</span><span class="token punctuation">:</span>
 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
 
    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> couleur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Couleur<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>red <span class="token operator">+</span> couleur<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>green <span class="token operator">+</span> couleur<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>blue <span class="token operator">+</span> couleur<span class="token punctuation">.</span>blue
        <span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> couleur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Couleur<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>red <span class="token operator">-</span> couleur<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>green <span class="token operator">-</span> couleur<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>blue <span class="token operator">-</span> couleur<span class="token punctuation">.</span>blue
        <span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>Il faudra penser à vérifier que <code>couleur</code> est bien une instance de <code>Couleur</code></p>
</blockquote>
<p>Nous pouvons ensuite faire :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c1 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c2 <span class="token operator">=</span> Couleur<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c3 <span class="token operator">=</span> c1 <span class="token operator">+</span> c2
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} {1} {2}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c3<span class="token punctuation">.</span>red<span class="token punctuation">,</span> c3<span class="token punctuation">.</span>green<span class="token punctuation">,</span> c3<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">3</span> <span class="token number">3</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c4 <span class="token operator">=</span> c1 <span class="token operator">-</span> c3
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0} {1} {2}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c4<span class="token punctuation">.</span>red<span class="token punctuation">,</span> c4<span class="token punctuation">.</span>green<span class="token punctuation">,</span> c4<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>C’est la toute la force du polymorphisme, notre objet peut se comporter comme un objet mathématique si on lui indique le comportement à avoir.</p>
<h2 id="surcharges-utiles">Surcharges utiles</h2>
<p>L’objet de base Python contient beaucoup de méthodes que nous pouvons redéfinir, nous avons vu <code>__add__</code> et <code>__sub__</code>, voyons quelques méthodes intéressantes.</p>
<h3 id="str__"><code>__str__</code></h3>
<p><code>__str__</code> est appelé quand Python doit faire des opérations avec des string, comme un <code>print</code> ou un <code>cast</code>.<br>
La méthode doit retourner un <code>string</code>.</p>
<p>Exemple :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom  
          
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__str__ called'</span><span class="token punctuation">)</span>  
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x02DA5690</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
__str__ called
<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x02DA5690</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'test'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
__str__ called
<span class="token string">'test&lt;__main__.Personnage object at 0x02DA5690&gt;'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Ce qui nous permet de faire :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom  
  
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">return</span> <span class="token string">'Personnage[{0}]'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>nom<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
Personnage<span class="token punctuation">[</span>Will<span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'test {0}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
<span class="token string">'test Personnage[Will]'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'test '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
<span class="token string">'test Personnage[Will]'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h3 id="repr__"><code>__repr__</code></h3>
<p><code>__repr__</code> est appelé quand Python doit retourner une représentation de l’objet</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom  
  
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__str__ called'</span><span class="token punctuation">)</span>  
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__repr__ called'</span><span class="token punctuation">)</span>  
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__repr__<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso
__repr__ called
<span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x014C6F30</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
__str__ called
__repr__ called
<span class="token string">'&lt;sandbox.Personnage object at 0x014C6F30&gt;'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token punctuation">[</span>perso<span class="token punctuation">]</span><span class="token punctuation">)</span>
__repr__ called
<span class="token string">'[&lt;sandbox.Personnage object at 0x014C6F30&gt;]'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p><code>__str__</code> est utilisé quand il s’agit de convertir l’objet en<code>string</code> quand <code>__repr__</code> est utilisé pour retourner une représentation de l’objet.</p>
<p>Exemple plus parlant :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">,</span> ptVie<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
        self<span class="token punctuation">.</span>ptVie <span class="token operator">=</span> ptVie
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'{0}\n  - Points de vie : {1}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>nom<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>ptVie
        <span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'[{0}] {1}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>__class__<span class="token punctuation">.</span>__name__<span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token string">'nom'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>nom<span class="token punctuation">,</span>
                <span class="token string">'ptVie'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>ptVie
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token string">'Will'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> perso
<span class="token punctuation">[</span>Personnage<span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">'nom'</span><span class="token punctuation">:</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'ptVie'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>perso<span class="token punctuation">)</span>
Will
  <span class="token operator">-</span> Points de vie <span class="token punctuation">:</span> <span class="token number">100</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h3 id="eq__"><code>__eq__</code></h3>
<p><code>__eq__</code> est appelé quand on veut vérifier l’égalité entre 2 objets à l’aide de l’opérateur <code>==</code>, ou bien dans des opérateurs tels que <code>in</code><br>
La méthode doit retourner un <code>bool</code><br>
Prenons le cas d’une classe <code>Point</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x  
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y  
        self<span class="token punctuation">.</span>z <span class="token operator">=</span> z  
          
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__eq__ called'</span><span class="token punctuation">)</span>  
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__eq__<span class="token punctuation">(</span>other<span class="token punctuation">)</span>
        
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p2 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token operator">==</span> p2
__eq__ called
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p_list <span class="token operator">=</span> <span class="token punctuation">[</span>Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token keyword">in</span> p_list   <span class="token comment"># in va tester l'égalité dans chaque élément de la liste</span>
__eq__ called
__eq__ called
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>De base Python va vérifier les signatures de nos objets pour vérifier l’égalité.</p>
<p>Si nous souhaitons comparer des points en nous basant sur leurs positions, il suffit de modifier la méthode <code>__eq__</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x  
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y  
        self<span class="token punctuation">.</span>z <span class="token operator">=</span> z  
  
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">==</span> other<span class="token punctuation">.</span>x <span class="token operator">and</span> self<span class="token punctuation">.</span>y <span class="token operator">==</span> other<span class="token punctuation">.</span>y <span class="token operator">and</span> self<span class="token punctuation">.</span>z <span class="token operator">==</span> other<span class="token punctuation">.</span>z
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p2 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token operator">==</span> p2
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p3 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token operator">==</span> p3
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p_list <span class="token operator">=</span> <span class="token punctuation">[</span>Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p1 <span class="token keyword">in</span> p_list
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h3 id="gt__-et-__lt__"><code>__gt__</code> et <code>__lt__</code></h3>
<p><code>__gt__</code> (greater than) est appelé quand on utilise l’opérateur <code>&gt;</code> quand <code>__lt__</code> (less than) est utilisé pour l’opérateur <code>&lt;</code>.<br>
Il existe <code>__ge__</code> et <code>__le__</code> pour <code>&gt;=</code> et <code>&lt;=</code>.</p>
<p>La méthode doit retourner un <code>bool</code>.</p>
<p>Prenons l’exemple des niveaux de personnage pour faire une comparaison :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Personnage</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>level <span class="token operator">=</span> level
    <span class="token keyword">def</span> <span class="token function">__gt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>level <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>level
    <span class="token keyword">def</span> <span class="token function">__ge__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>level <span class="token operator">&gt;=</span> other<span class="token punctuation">.</span>level
    <span class="token keyword">def</span> <span class="token function">__lt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>level <span class="token operator">&lt;</span> other<span class="token punctuation">.</span>level
    <span class="token keyword">def</span> <span class="token function">__le__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>level <span class="token operator">&lt;=</span> other<span class="token punctuation">.</span>level
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> dustin <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> eleven <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> hopper <span class="token operator">=</span> Personnage<span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> hopper <span class="token operator">&gt;</span> dustin
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> eleven <span class="token operator">&gt;=</span> will
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> eleven <span class="token operator">&lt;=</span> will
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">&lt;</span> dustin
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> will <span class="token operator">&lt;</span> dustin <span class="token operator">&lt;</span> hopper
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span> perso_list <span class="token operator">=</span> <span class="token punctuation">[</span>Personnage<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Personnage<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Personnage<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">max</span><span class="token punctuation">(</span>perso_list<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Personnage <span class="token builtin">object</span> at <span class="token number">0x0362A4D0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> m <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>perso_list<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> m<span class="token punctuation">.</span>level
<span class="token number">10</span>
</code></pre>
<h3 id="iadd__-et-__isub__"><code>__iadd__</code> et <code>__isub__</code></h3>
<p><code>__iadd__</code> est appelé quand on utilise l’opérateur <code>+=</code>, quand <code>__isub__</code> est appelé quand on utilise l’opérateur <code>-=</code><br>
La méthode doit retourner <code>self</code>.</p>
<p>Prenons l’exemple d’un porte-folio de documents :</p>
<pre class=" language-python"><code class="prism  language-python"><span class="token keyword">class</span> <span class="token class-name">Document</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nom<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>nom <span class="token operator">=</span> nom
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">type</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>__class__<span class="token punctuation">:</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>nom <span class="token operator">==</span> other<span class="token punctuation">.</span>nom
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">class</span> <span class="token class-name">Portefolio</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>documents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">__iadd__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>documents<span class="token punctuation">.</span>append<span class="token punctuation">(</span>other<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self
    <span class="token keyword">def</span> <span class="token function">__isub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> other <span class="token keyword">in</span> self<span class="token punctuation">.</span>documents<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>documents<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>other<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> Portefolio<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>documents
<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">+=</span> Document<span class="token punctuation">(</span><span class="token string">'Chapitre 1'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>documents
<span class="token punctuation">[</span><span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Document <span class="token builtin">object</span> at <span class="token number">0x02CE6EF0</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">+=</span> Document<span class="token punctuation">(</span><span class="token string">'Chapitre 2'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>documents
<span class="token punctuation">[</span><span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Document <span class="token builtin">object</span> at <span class="token number">0x02CE6EF0</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Document <span class="token builtin">object</span> at <span class="token number">0x02D13CD0</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">-=</span> p<span class="token punctuation">.</span>documents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>documents
<span class="token punctuation">[</span><span class="token operator">&lt;</span>sandbox<span class="token punctuation">.</span>Document <span class="token builtin">object</span> at <span class="token number">0x02D13CD0</span><span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Magique non ?</p>
<h1 id="exercice">6 - Exercice</h1>
<p>Nous allons mettre en pratique l’ensemble des choses que nous avons vu jusqu’à présent au travers d’un petit jeu, la tour de Hanoi.</p>
<h2 id="exercice-1">Exercice 1</h2>
<p>Créez une classe <code>Pile</code> et une classe <code>Disque</code><br>
La classe <code>Pile</code> contiendra :</p>
<ul>
<li>Une liste d’éléments (privé)</li>
<li>Une propriété <code>top</code> qui permet d’accéder au dernier élément de la liste des éléments dans le cas ou la liste est vide, la propriété retournera <code>None</code></li>
<li>Une méthode <code>empiler</code> qui permet d’ajouter un élément quelconque à la fin de la liste d’éléments</li>
<li>Une méthode <code>depiler</code> qui permet de retirer le dernier élément de la liste d’éléments</li>
<li>Une méthode pour représenter la pile sous forme de string<br>
La classe <code>Disque</code> contiendra :</li>
<li>La taille du disque (privé)</li>
<li>Une propriété permettant d’accéder à la taille du disque</li>
<li>Une méthode pour représenter le disque sous forme de string</li>
</ul>
<h3 id="résultat-attendu">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice1 <span class="token keyword">import</span> Pile<span class="token punctuation">,</span> Disque
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> d <span class="token operator">=</span> Disque<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> d
<span class="token operator">&lt;</span>exercice1<span class="token punctuation">.</span>Disque <span class="token builtin">object</span> at <span class="token number">0x000002C291AA2278</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
<span class="token string">'|---|'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> Pile<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p
<span class="token operator">&lt;</span>exercice1<span class="token punctuation">.</span>Pile <span class="token builtin">object</span> at <span class="token number">0x000002C291AA22B0</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token string">''</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>elements
<span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>top
<span class="token string">'World'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token string">'World\nHello'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
World
Hello
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="exercice-2">Exercice 2</h2>
<p>Créez une classe <code>PileDisque</code> qui hérite de <code>Pile</code> et faites en sorte qu’il soit uniquement possible d’ajouter des <code>Disque</code>.</p>
<p>Dans le cas où on essaie d’ajouter autre chose qu’un <code>Disque</code>, la classe lancera une exception.</p>
<h3 id="résultat-attendu-1">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice2 <span class="token keyword">import</span> PileDisque<span class="token punctuation">,</span> Disque
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> PileDisque<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
  File <span class="token string">"C:\Users\averd\Projets\PyCharmProjects\python3_formation_2\exercices\exercice2.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">in</span> empiler
    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Disque object expected'</span><span class="token punctuation">)</span>
Exception<span class="token punctuation">:</span> Disque <span class="token builtin">object</span> expected
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>top
<span class="token operator">&lt;</span>exercice1<span class="token punctuation">.</span>Disque <span class="token builtin">object</span> at <span class="token number">0x0000023347032278</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token string">'|---|'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token string">'|-----|\n|---|'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="exercice-3">Exercice 3</h2>
<p>Créez une classe <code>PileDisqueOrdered</code> qui permettra d’ajouter des disques uniquement par taille décroissante.</p>
<h3 id="résultat-attendu-2">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice3 <span class="token keyword">import</span> Disque<span class="token punctuation">,</span> PileDisqueOrdered
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> PileDisqueOrdered<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>empiler<span class="token punctuation">(</span>Disque<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;stdin&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
  File <span class="token string">"C:\Users\averd\Projets\PyCharmProjects\python3_formation_2\exercices\exercice3.py"</span><span class="token punctuation">,</span> line <span class="token number">14</span><span class="token punctuation">,</span> <span class="token keyword">in</span> empiler
    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Too large'</span><span class="token punctuation">)</span>
Exception<span class="token punctuation">:</span> Too large
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="exercice-4">Exercice 4</h2>
<p>Créez une classe <code>HanoiApp</code> qui représentera notre jeu.<br>
Elle contiendra :</p>
<ul>
<li>Le nombre de disques (le nombre de disques augmente la difficulté du jeu) (privé)</li>
<li>3 piles de disques (privé)</li>
<li>Une méthode pour initialiser les piles, c’est-à-dire que tous les disques sont présents dans la première pile et les 2 autres sont vides (privé).</li>
<li>Une méthode pour démarrer la partie, pour le moment elle initialisera les piles.</li>
<li>Une méthode pour afficher les piles dans la console.</li>
</ul>
<h3 id="résultat-attendu-3">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice4 <span class="token keyword">import</span> HanoiApp
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app <span class="token operator">=</span> HanoiApp<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>afficher_piles<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>       <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>     <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h4 id="bonus">Bonus</h4>
<p>Vous pouvez faire en sorte que les disques soient centrés, pour simplifier la tache il suffit d’ajouter uniquement des disques de taille impairs et de modifier la fonction <code>__str__</code> de la classe <code>PileDisqueOrdered</code></p>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice4 <span class="token keyword">import</span> HanoiApp
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app <span class="token operator">=</span> HanoiApp<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>afficher_piles<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre>
<h2 id="exercice-5">Exercice 5</h2>
<p>Utilisez DocOpt pour demander un déplacement à l’utilisateur, une mauvaise réponse ne doit pas arrêter le programme.</p>
<p>Le programme demandera les indices de la pile source et destination.<br>
Un mouvement d’un disque d’une pile à l’autre est possible si :</p>
<ul>
<li>Le disque de la pile source est plus petit que le disque de la pile destination.</li>
</ul>
<h3 id="résultat-attendu-4">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice5 <span class="token keyword">import</span> HanoiApp
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app <span class="token operator">=</span> HanoiApp<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
Usage<span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> to <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">2</span> to <span class="token number">4</span>
Saisie incorrecte <span class="token punctuation">:</span> indices invalides<span class="token punctuation">.</span>
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">2</span> to <span class="token number">1</span>
Saisie incorrecte <span class="token punctuation">:</span> Pile source vide
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">0</span> to <span class="token number">1</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<h2 id="exercice-6">Exercice 6</h2>
<p>Créez le jeu de la tour de Hanoi, l’application demandera un mouvement à l’utilisateur tant que celui-ci ne gagne pas la partie.</p>
<p>Pour gagner, l’utilisateur doit transférer tous les disques de la pile <code>0</code> à la pile <code>2</code>.</p>
<h3 id="résultat-attendu-5">Résultat attendu</h3>
<pre class=" language-python"><code class="prism  language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> exercice6 <span class="token keyword">import</span> HanoiApp
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app <span class="token operator">=</span> HanoiApp<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> app<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">==</span> Tours de Hanoi <span class="token operator">==</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
Usage<span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> to <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">1</span> to <span class="token number">2</span>
Saisie incorrecte <span class="token punctuation">:</span> Pile source vide
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">0</span> to <span class="token number">1</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
Usage<span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> to <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">0</span> to <span class="token number">2</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>    <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
Usage<span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> to <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
Entrez votre mouvement <span class="token punctuation">:</span> <span class="token keyword">from</span> <span class="token number">1</span> to <span class="token number">2</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> Pile <span class="token number">0</span>    <span class="token operator">|</span> Pile <span class="token number">1</span> <span class="token operator">|</span> Pile <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>        <span class="token operator">|</span>  <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span>   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span> <span class="token operator">|</span>        <span class="token operator">|</span> <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">|</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Partie gagnée en <span class="token number">16</span> coups
</code></pre>

    </div>
  </div>
</body>

</html>
